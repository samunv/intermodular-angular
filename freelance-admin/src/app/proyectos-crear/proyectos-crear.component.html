<h1 class="titulos">Crear Nuevo proyecto</h1>

<form
  [formGroup]="proyectoForm"
  (ngSubmit)="crearProyecto()"
  class="formulario"
>
  <!-- Nombre del Proyecto -->
  <div class="form-group">
    <label>Nombre del Proyecto</label>
    <input formControlName="nombre" type="text" class="form-control" required />
  </div>

  <!-- Descripción -->
  <div class="form-group">
    <label>Descripción</label>
    <textarea formControlName="descripcion" class="form-control"></textarea>
  </div>

  <!-- Estado -->
  <div class="form-group">
    <label>Estado</label>
    <select formControlName="estado" class="form-control">
      <option *ngFor="let estado of estados" [value]="estado">
        {{ estado }}
      </option>
    </select>
  </div>

  <!-- Tecnologías -->
  <div class="form-group">
    <label>Tecnologías</label>
    <select
      formControlName="tecnologias"
      class="form-control tecnologias"
      multiple
    >
      <option
        *ngFor="let tecnologia of tecnologias"
        [value]="tecnologia.nombre"
      >
        {{ tecnologia.nombre }}
      </option>
    </select>
    <small class="help-text"
      >Presiona Ctrl (Windows) para seleccionar múltiples tecnologías.</small
    >
  </div>

  <!-- Subir Imagen -->
  <div class="form-group">
    <label>Subir Imagen</label>
    <input
      type="file"
      (change)="onFileSelected($event)"
      class="form-control"
      accept="image/*"
    />
  </div>

  <!-- Vista Previa de la Imagen -->
  <div *ngIf="imagenBase64" class="preview-container">
    <label>Vista Previa:</label>
    <img [src]="imagenBase64" alt="Vista previa" class="img-preview" />
  </div>

  <button
    type="submit"
    class="btn btn-success mt-3"
    [disabled]="proyectoForm.invalid"
  >
    Crear Proyecto
  </button>
</form>
